<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:osgi="http://www.springframework.org/schema/osgi" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xsi:schemaLocation="http://www.springframework.org/schema/osgi http://www.springframework.org/schema/osgi/spring-osgi.xsd
		http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.2.xsd
		http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd">


	<!-- Scans the main package of this extension, and some packages provided 
		by ST framework -->
	<context:component-scan base-package="it.uniroma2.art.semanticturkey" />

	<!-- Registers the it.uniroma2.art.semanticturkey.repository.config.ReadOnlyRepositoryWrapperFactory -->
	<bean
		class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
		<property name="staticMethod"
			value="it.uniroma2.art.semanticturkey.repository.config.ReadOnlyRepositoryWrapperFactory.registerFactory" />
	</bean>

	<!-- Retrieves coda osgi factory -->
	<osgi:reference id="codaOSGiFactory"
		interface="it.uniroma2.art.coda.osgi.bundle.CODAOSGiFactory" />

	<!-- Publishes the CODA-based implementation of the extension point URIGenerator -->
	<bean id="codaURIGeneratorFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.urigen.CODAURIGeneratorFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="codaURIGeneratorFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.URIGenerator" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the native template-based implementation of the extension 
		point URIGenerator -->
	<bean id="nativeTemplateBasedURIGeneratorFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.urigen.NativeTemplateBasedURIGeneratorFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="nativeTemplateBasedURIGeneratorFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.URIGenerator" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the RDFS-based implementation of the extension point RenderingEngine -->
	<bean id="rdfsRenderingEngineFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.rendering.RDFSRenderingEngineFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="rdfsRenderingEngineFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.RenderingEngine" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the SKOS-based implementation of the extension point RenderingEngine -->
	<bean id="skosRenderingEngineFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.rendering.SKOSRenderingEngineFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="skosRenderingEngineFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.RenderingEngine" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the SKOSXL-based implementation of the extension point RenderingEngine -->
	<bean id="skosxlRenderingEngineFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.rendering.SKOSXLRenderingEngineFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="skosxlRenderingEngineFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.RenderingEngine" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the SPARQL-based implementation of the extension point ExportFilter -->
	<bean id="SPARQLExportFilterFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.exportfilter.SPARQLExportFilterFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="SPARQLExportFilterFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.ExportFilter" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the Delete Property Value implementation of the extension 
		point ExportFilter -->
	<bean id="DeletePropertyValueExportFilterFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.exportfilter.DeletePropertyValueExportFilterFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="DeletePropertyValueExportFilterFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.ExportFilter" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the Update Property Value implementation of the extension 
		point ExportFilter -->
	<bean id="UpdatePropertyValueExportFilterFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.exportfilter.UpdatePropertyValueExportFilterFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="UpdatePropertyValueExportFilterFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.ExportFilter" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the XLabel Dereification implementation of the extension 
		point ExportFilter -->
	<bean id="XLabelDereificationExportFilterFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.exportfilter.XLabelDereificationExportFilterFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="XLabelDereificationExportFilterFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.ExportFilter" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the XNote Dereification implementation of the extension point 
		ExportFilter -->
	<bean id="XNoteDereificationExportFilterFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.exportfilter.XNoteDereificationExportFilterFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="XNoteDereificationExportFilterFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.ExportFilter" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the ADMS implementation of the extension point DatasetMetadataExporter -->
	<bean id="ADMSDatasetMetadataExporterFactory"
		class="it.uniroma2.art.semanticturkey.plugin.extpts.datasetmetadata.ADMSDatasetMetadataExporterFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="ADMSDatasetMetadataExporterFactory">

		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.DatasetMetadataExporter" />
		</osgi:service-properties>
	</osgi:service>


	<!-- Publishes the DCAT implementation of the extension point DatasetMetadataExporter -->
	<bean id="DCATDatasetMetadataExporterFactory"
		class="it.uniroma2.art.semanticturkey.plugin.extpts.datasetmetadata.DCATDatasetMetadataExporterFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="DCATDatasetMetadataExporterFactory">

		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.DatasetMetadataExporter" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the DCAT-AP implementation of the extension point DatasetMetadataExporter -->
	<bean id="DCATAPDatasetMetadataExporterFactory"
		class="it.uniroma2.art.semanticturkey.plugin.extpts.datasetmetadata.DCATAPDatasetMetadataExporterFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="DCATAPDatasetMetadataExporterFactory">

		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.DatasetMetadataExporter" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the VOID/LIME implementation of the extension point DatasetMetadataExporter -->
	<bean id="VOIDLIMEDatasetMetadataExporterFactory"
		class="it.uniroma2.art.semanticturkey.plugin.extpts.datasetmetadata.VOIDLIMEDatasetMetadataExporterFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="VOIDLIMEDatasetMetadataExporterFactory">

		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.DatasetMetadataExporter" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the Predefined Repository Impl Configurer implementation 
		of the extension point RepositoryImplConfigurer -->
	<bean id="PredefinedRepositoryImplConfigurerFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.repositoryimplconfigurer.PredefinedRepositoryImplConfigurerFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="PredefinedRepositoryImplConfigurerFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.RepositoryImplConfigurer" />
		</osgi:service-properties>
	</osgi:service>

	<!-- Publishes the Jira Backend implementation of the extension point CollaborationBakend -->
	<bean id="JiraBackendFactory"
		class="it.uniroma2.art.semanticturkey.plugin.impls.collaboration.JiraBackendFactory" />

	<osgi:service interface="it.uniroma2.art.semanticturkey.plugin.PluginFactory"
		ref="JiraBackendFactory">
		<osgi:service-properties>
			<entry key="it.uniroma2.art.semanticturkey.extensionpoint"
				value="it.uniroma2.art.semanticturkey.plugin.extpts.CollaborationBackend" />
		</osgi:service-properties>
	</osgi:service>


	<!-- Publishes the DatasetMetadataRepository as an OSGi service -->
	<bean id="datasetMetadataRepository"
		class="it.uniroma2.art.semanticturkey.resources.DatasetMetadataRepository" />

	<osgi:service
		interface="it.uniroma2.art.semanticturkey.resources.DatasetMetadataRepository"
		ref="datasetMetadataRepository">
	</osgi:service>

	<!-- Publishes the ResourceLocator as an OSGi service -->
	<bean id="resourceLocator"
		class="it.uniroma2.art.semanticturkey.data.access.ResourceLocator" />

	<osgi:service
		interface="it.uniroma2.art.semanticturkey.data.access.ResourceLocator"
		ref="resourceLocator">
	</osgi:service>

	<!-- Publishes CustomFormManager as an OSGi service (bean instance generated 
		based on annotations) -->
	<osgi:service
		interface="it.uniroma2.art.semanticturkey.customform.CustomFormManager"
		ref="customFormManager">
	</osgi:service>

	<!-- Publishes CODACoreProvider as an OSGi service (bean instance generated 
		based on annotations) -->
	<osgi:service
		interface="it.uniroma2.art.semanticturkey.customform.CODACoreProvider"
		ref="CODACoreProvider">
	</osgi:service>


	<!-- Instantiates the ExtensionPointManager implementation -->
	<bean id="extensionPointManager"
		class="it.uniroma2.art.semanticturkey.extension.impl.ExtensionPointManagerImpl" />

	<!-- Publishes the ExtensionPointerManager as an OSGi service -->
	<osgi:service
		interface="it.uniroma2.art.semanticturkey.extension.ExtensionPointManager"
		ref="extensionPointManager">
	</osgi:service>

	<!-- Publishes the URIGenerator extension point -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.extpts.urigen.URIGeneratorExtensionPoint" />
	</osgi:service>

	<!-- Publishes the Native Template-based URIGenerator extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.urigen.template.NativeTemplateBasedURIGeneratorFactory" />
	</osgi:service>

	<!-- Publishes the CODA-based URIGenerator extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.urigen.coda.CODAURIGeneratorFactory" />
	</osgi:service>

	<!-- Publishes the RenderingEngine extension point -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.extpts.rendering.RenderingEngineExtensionPoint" />
	</osgi:service>
	
	<!-- Publishes the RDFSRenderingEngine extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.rendering.rdfs.RDFSRenderingEngineFactory" />
	</osgi:service>

	<!-- Publishes the SKOSRenderingEngine extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.rendering.skos.SKOSRenderingEngineFactory" />
	</osgi:service>
	
	<!-- Publishes the SKOSXLRenderingEngine extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.rendering.skosxl.SKOSXLRenderingEngineFactory" />
	</osgi:service>

	
	<!-- Publishes the RDFTransformer extension point -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.extpts.rdftransformer.RDFTransformerExtensionPoint" />
	</osgi:service>

	<!-- Publishes the DeletePropertyValueRDFTransformer extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.rdftransformer.deleteproperty.DeletePropertyValueRDFTransformerFactory" />
	</osgi:service>

	<!-- Publishes the SPARQLRDFTransformer extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.rdftransformer.sparql.SPARQLRDFTransformerFactory" />
	</osgi:service>
	
	<!-- Publishes the UpdatePropertyValueRDFTranformerFactory extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.rdftransformer.updateproperty.UpdatePropertyValueRDFTranformerFactory" />
	</osgi:service>

	<!-- Publishes the XLabelDereificationRDFTransformerFactory extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.rdftransformer.xlabeldereification.XLabelDereificationRDFTransformerFactory" />
	</osgi:service>

	<!-- Publishes the XNoteDereificationRDFTransformerFactory extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.rdftransformer.xnotedereification.XNoteDereificationRDFTransformerFactory" />
	</osgi:service>

	<!-- Publishes the CollaborationBackend extension point -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.extpts.collaboration.CollaborationBackendExtensionPoint" />
	</osgi:service>

	<!-- Publishes the JiraBackend extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.collaboration.jira.JiraBackendFactory" />
	</osgi:service>

	<!-- Publishes the DatasetMetadataExporter extension point -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.extpts.datasetmetadata.DatasetMetadataExporterExtensionPoint" />
	</osgi:service>

	<!-- Publishes the ADMSDatasetMetadataExporter extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.datasetmetadata.adms.ADMSDatasetMetadataExporterFactory" />
	</osgi:service>

	<!-- Publishes the DCATDatasetMetadataExporter extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.datasetmetadata.dcat.DCATDatasetMetadataExporterFactory" />
	</osgi:service>

	<!-- Publishes the DCATAPDatasetMetadataExporter extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.datasetmetadata.dcatap.DCATAPDatasetMetadataExporterFactory" />
	</osgi:service>

	<!-- Publishes the VOIDLIMEPDatasetMetadataExporter extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.datasetmetadata.voidlime.VOIDLIMEDatasetMetadataExporterFactory" />
	</osgi:service>

	<!-- Publishes the RepositoryImplConfigurer extension point -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.extpts.repositoryimplconfigurer.RepositoryImplConfigurerExtensionPoint" />
	</osgi:service>

	<!-- Publishes the PredefinedRepositoryImplConfigurer extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.repositoryimplconfigurer.predefined.PredefinedRepositoryImplConfigurerFactory" />
	</osgi:service>

	<!-- Publishes the SearchStrategy extension point -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.extpts.search.SearchStrategyExtensionPoint" />
	</osgi:service>
	
	<!-- Publishes the GraphDBSearchStrategy extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.search.graphdb.GraphDBSearchStrategyFactory" />
	</osgi:service>
	
	<!-- Publishes the Regex extension -->

	<osgi:service auto-export="interfaces">
		<bean
			class="it.uniroma2.art.semanticturkey.extension.impl.search.regex.RegexSearchStrategyFactory" />
	</osgi:service>

	<!-- Publishes the manager of saved queries -->

	<osgi:service auto-export="interfaces">
		<bean class="it.uniroma2.art.semanticturkey.config.query.SavedQueryManager" />
	</osgi:service>
</beans>