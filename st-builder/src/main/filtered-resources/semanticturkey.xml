<?xml version="1.0" encoding="UTF-8"?>

<features>

	<repository>mvn:it.uniroma2.art.coda/coda-karaf/1.1/xml/features</repository>
	
	<feature name="semantic_prereq" version="${project.version}">

		
		<!-- These bundles provide optional dependencies for spring-web, in order to support multipart
			resolver. It's important that these bundles are installed before spring-web, otherwise the latter
			must be refreshed to pick the optional packages.
			See http://fusesource.com/forums/thread.jspa?threadID=4139 -->
		<!-- Commons io and fileupload -->
		<bundle>mvn:commons-io/commons-io/2.4</bundle>
		<bundle>mvn:org.apache.commons/com.springsource.org.apache.commons.fileupload/1.2.0</bundle>

		<!-- Owlart -->
		<bundle>mvn:it.uniroma2.art.owlart/owlart-api/2.3</bundle>
		
		<!-- CODA -->
		<feature>coda</feature>

		<!-- Web-Console -->
		<feature>webconsole</feature>

		<!-- Spring/SpringDM -->
		<feature>spring</feature>
		<feature>spring-web</feature>
		<feature>spring-dm</feature>
		<feature>spring-dm-web</feature>
		<bundle>mvn:org.springframework/spring-asm/3.1.4.RELEASE</bundle>
		<bundle>mvn:org.aspectj/com.springsource.org.aspectj.weaver/1.6.8.RELEASE</bundle>
		<bundle>mvn:org.aspectj/com.springsource.org.aspectj.runtime/1.6.8.RELEASE</bundle>


		<!-- Dependencies -->
		<bundle>mvn:org.jsoup/com.springsource.org.jsoup/1.5.2</bundle>
		<bundle>mvn:org.joda/com.springsource.org.joda.time/1.6.0</bundle>
		<bundle>mvn:org.hibernate/com.springsource.org.hibernate.validator/4.2.0.Final</bundle>
		<bundle>mvn:org.osgi/org.osgi.compendium/4.2.0</bundle>
		<bundle>mvn:javax.validation/com.springsource.javax.validation/1.0.0.GA</bundle>
		<bundle>mvn:javax.inject/com.springsource.javax.inject/1.0.0</bundle>
		<bundle>mvn:javax.persistence/com.springsource.javax.persistence/2.0.0</bundle>
		<bundle>mvn:com.google.guava/guava/15.0</bundle>
		<bundle>mvn:http://clojars.org/repo!com.wcohen.ss.art.uniroma2.it/secondstring-osgi/2006.06.15</bundle>
		<bundle>mvn:net.sourceforge.cglib/com.springsource.net.sf.cglib/2.2.0</bundle>
		<bundle>mvn:org.aopalliance/com.springsource.org.aopalliance/1.0.0</bundle>
		<bundle>mvn:javax.el/com.springsource.javax.el/1.0.0</bundle>
		<bundle>mvn:javax.servlet/com.springsource.javax.servlet/2.5.0</bundle>
		<bundle>mvn:javax.servlet/com.springsource.javax.servlet.jsp/2.1.0</bundle>
		<bundle>mvn:javax.servlet/com.springsource.javax.servlet.jsp.jstl/1.1.2</bundle>
		<bundle>mvn:org.apache.taglibs/com.springsource.org.apache.taglibs.standard/1.1.2</bundle>
		<bundle>mvn:org.ops4j.pax.confman/pax-confman-propsloader/0.2.3</bundle>
		<bundle>mvn:org.ops4j.pax.web/pax-web-extender-war/1.1.4</bundle>		

		
		
		<!-- Console -->
		<configfile finalname="/lib/st-console-${project.version}.jar"
			override="true">
			mvn:it.uniroma2.art.semanticturkey/st-console/${project.version}
		</configfile>
		
        
         <!-- Load all configuration files from mvn local repository -->
		<configfile finalname="/etc/${project.groupId}.cfg" override="true">
			mvn:it.uniroma2.art.semanticturkey/st-builder/${project.version}/cfg/st
		</configfile>
	</feature>

	<feature name="semantic_turkey" version="1.0">

		<!-- First install all prerequisites -->
		<feature>semantic_prereq</feature>
		
		<!-- Finally install Semantic Turkey -->
		<bundle>mvn:it.uniroma2.art.semanticturkey/st-core-framework/${project.version}</bundle>
		<bundle>mvn:it.uniroma2.art.semanticturkey/st-core-services/${project.version}</bundle>
		<bundle>mvn:it.uniroma2.art.semanticturkey/st-sesame2-ontmanager/${project.version}</bundle>
	</feature>

</features>